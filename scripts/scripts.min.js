document.addEventListener("DOMContentLoaded",()=>{let e={container:document.querySelector(".members__container"),list:document.querySelector(".members__list"),items:document.querySelectorAll(".members__list-item"),vicCounter:document.querySelector(".members__controls-counter_vic"),totalCounter:document.querySelector(".members__controls-counter span:last-child"),controls:document.querySelector(".members__controls"),prevBtn:document.querySelector(".members__controls-btn_prev"),nextBtn:document.querySelector(".members__controls-btn_next")},t={index:0,vic:1,gap:20,itemW:0,totalSlides:0,totalItems:e.items.length,offset:0,autoplayTimer:null,autoplay:!0},n=()=>{t.itemW=e.items[0].offsetWidth,t.gap=window.matchMedia("(max-width: 375px)").matches?32:20,t.vic=Math.floor((e.container.clientWidth+t.gap)/(t.itemW+t.gap)),t.vic<1&&(t.vic=1),t.totalSlides=Math.ceil(t.totalItems/t.vic),t.offset=-(t.itemW+t.gap)*t.index*t.vic,e.vicCounter.textContent=Math.min((t.index+1)*t.vic,t.totalItems),e.totalCounter.textContent=t.totalItems,e.list.style.transform=`translateX(${t.offset}px)`},s=n=>{t.index+=n,t.index<0&&(t.index=t.totalSlides-1),t.index>=t.totalSlides&&(t.index=0),t.offset=-(t.itemW+t.gap)*t.index*t.vic,e.vicCounter.textContent=Math.min((t.index+1)*t.vic,t.totalItems),e.list.style.transition="transform 0.5s ease",e.list.style.transform=`translateX(${t.offset}px)`},r=()=>{t.autoplay&&(i(),t.autoplayTimer=setInterval(()=>s(1),4e3),e.controls.classList.add("members__controls--running"),e.controls.classList.remove("members__controls--paused"))},i=()=>{clearInterval(t.autoplayTimer),e.controls.classList.add("members__controls--paused"),e.controls.classList.remove("members__controls--running")};e.prevBtn.addEventListener("click",()=>s(-1)),e.nextBtn.addEventListener("click",()=>s(1)),e.controls.addEventListener("mouseenter",i),e.controls.addEventListener("mouseleave",r),window.addEventListener("resize",()=>{e.list.style.transition="none",n()}),n(),r();let o={container:document.querySelector(".stages__list-container"),list:document.querySelector(".stages__list"),dots:document.querySelectorAll(".stages__carousel-dot"),prevBtn:document.querySelector(".stages__carousel-btn_prev"),nextBtn:document.querySelector(".stages__carousel-btn_next")},l={index:0,containerW:0,totalSlides:5},a=()=>{l.containerW=o.container.clientWidth,o.list.style.setProperty("--translate-x",`${-(l.containerW+20)*l.index}px`),o.list.style.transition="transform 0.4s ease",o.prevBtn.disabled=0===l.index,o.nextBtn.disabled=l.index===l.totalSlides-1,o.dots.forEach(e=>e.removeAttribute("data-current")),o.dots[l.index].setAttribute("data-current","true")},c=(e,t=null)=>{null!==t?l.index=t:l.index+=e,l.index<0&&(l.index=0),l.index>=l.totalSlides&&(l.index=l.totalSlides-1),a()};o.prevBtn.addEventListener("click",()=>c(-1)),o.nextBtn.addEventListener("click",()=>c(1)),o.dots.forEach((e,t)=>{e.addEventListener("click",()=>c(null,t))}),window.addEventListener("resize",a),a()});